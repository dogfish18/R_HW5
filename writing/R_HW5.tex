% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
%
\documentclass[
]{article}
\usepackage{amsmath,amssymb}
\usepackage{lmodern}
\usepackage{ifxetex,ifluatex}
\ifnum 0\ifxetex 1\fi\ifluatex 1\fi=0 % if pdftex
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math}
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{xcolor}
\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\IfFileExists{bookmark.sty}{\usepackage{bookmark}}{\usepackage{hyperref}}
\hypersetup{
  pdftitle={R\_Homework5},
  pdfauthor={Stacey Elmore},
  hidelinks,
  pdfcreator={LaTeX via pandoc}}
\urlstyle{same} % disable monospaced font for URLs
\usepackage[margin=1in]{geometry}
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.77,0.63,0.00}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{#1}}}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\usepackage{graphicx}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
% Set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother
\setlength{\emergencystretch}{3em} % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{-\maxdimen} % remove section numbering
\ifluatex
  \usepackage{selnolig}  % disable illegal ligatures
\fi

\title{R\_Homework5}
\author{Stacey Elmore}
\date{11/16/2021}

\begin{document}
\maketitle

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{setwd}\NormalTok{(}\StringTok{"C:/Users/elmor/OneDrive/Documents/R\_HW5"}\NormalTok{)}
\FunctionTok{library}\NormalTok{(readr)}
\NormalTok{homicide }\OtherTok{\textless{}{-}} \FunctionTok{read\_csv}\NormalTok{(}\StringTok{"data/homicide{-}data.csv"}\NormalTok{)}
\CommentTok{\#View(homicide)}
\end{Highlighting}
\end{Shaded}

\begin{itemize}
\tightlist
\item
  Choice 1
\end{itemize}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  Pick one city in the data.
\item
  Create a map showing the locations of the homicides in that city,
  using the sf framework.
\item
  Use tigris to download boundaries for some sub-city geography (e.g.,
  tracts, block groups, county subdivisions) to show as a layer
  underneath the points showing homicides.
\item
  Use different facets for solved versus unsolved homicides and
  different colors to show the three race groups with the highest number
  of homicides for that city (you may find the fct\_lump function from
  forcats useful for this).
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(tidyverse)}
\FunctionTok{library}\NormalTok{(tigris)}
\FunctionTok{library}\NormalTok{(sf)}
\FunctionTok{options}\NormalTok{(}\AttributeTok{tigris\_class =} \StringTok{"sf"}\NormalTok{)}
\FunctionTok{options}\NormalTok{(}\AttributeTok{tigris\_use\_cache =} \ConstantTok{TRUE}\NormalTok{)}


\DocumentationTok{\#\#\# filter to Chicago homicides}
\NormalTok{homicide }\OtherTok{\textless{}{-}}\NormalTok{ homicide }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{filter}\NormalTok{(city }\SpecialCharTok{==} \StringTok{"Chicago"}\NormalTok{) }
  
\NormalTok{homicide }\OtherTok{\textless{}{-}}\NormalTok{ homicide }\SpecialCharTok{\%\textgreater{}\%} 
  \FunctionTok{mutate}\NormalTok{(}\AttributeTok{disposition =} \FunctionTok{recode}\NormalTok{(disposition,}
                   \StringTok{\textquotesingle{}Closed by arrest\textquotesingle{}} \OtherTok{=} \StringTok{"Solved Cases"}\NormalTok{,}
                   \StringTok{\textquotesingle{}Closed without arrest\textquotesingle{}} \OtherTok{=} \StringTok{"Unsolved Cases"}\NormalTok{,}
                   \StringTok{\textquotesingle{}Open/No arrest\textquotesingle{}} \OtherTok{=} \StringTok{"Unsolved Cases"}\NormalTok{))}

\DocumentationTok{\#\#\# make homocide a sf file (add spatial coordinates using NAD83)}
\NormalTok{chi\_hom }\OtherTok{\textless{}{-}} \FunctionTok{st\_as\_sf}\NormalTok{(homicide, }\AttributeTok{coords =} \FunctionTok{c}\NormalTok{(}\StringTok{"lon"}\NormalTok{, }\StringTok{"lat"}\NormalTok{)) }\SpecialCharTok{\%\textgreater{}\%} 
  \FunctionTok{st\_set\_crs}\NormalTok{(}\DecValTok{4269}\NormalTok{)}

\DocumentationTok{\#\#\#add chicago city boundaries}
\NormalTok{cb }\OtherTok{\textless{}{-}} \FunctionTok{core\_based\_statistical\_areas}\NormalTok{(}\AttributeTok{cb =} \ConstantTok{TRUE}\NormalTok{)}
\NormalTok{places }\OtherTok{\textless{}{-}}\FunctionTok{places}\NormalTok{(}\AttributeTok{state =} \StringTok{"IL"}\NormalTok{, }\AttributeTok{cb =} \ConstantTok{TRUE}\NormalTok{)}
\NormalTok{chi\_bound2 }\OtherTok{\textless{}{-}}\FunctionTok{filter}\NormalTok{(places, NAME }\SpecialCharTok{==} \StringTok{"Chicago"}\NormalTok{)}

\NormalTok{road }\OtherTok{\textless{}{-}} \FunctionTok{roads}\NormalTok{(}\StringTok{"IL"}\NormalTok{, }\StringTok{"Cook"}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%} 
  \FunctionTok{filter}\NormalTok{(FULLNAME }\SpecialCharTok{==} \StringTok{"N Marshfield Ave"}\NormalTok{)}

\DocumentationTok{\#\#add water and census tracts}
\NormalTok{water }\OtherTok{\textless{}{-}} \FunctionTok{area\_water}\NormalTok{(}\StringTok{"IL"}\NormalTok{, }\StringTok{"Cook"}\NormalTok{, }\AttributeTok{class =} \StringTok{"sf"}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%} 
 \FunctionTok{filter}\NormalTok{(FULLNAME }\SpecialCharTok{==} \StringTok{"Chicago River N Br"}\NormalTok{)}
\NormalTok{water2 }\OtherTok{\textless{}{-}} \FunctionTok{area\_water}\NormalTok{(}\StringTok{"IL"}\NormalTok{, }\StringTok{"Cook"}\NormalTok{, }\AttributeTok{class =} \StringTok{"sf"}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%} 
  \FunctionTok{filter}\NormalTok{(FULLNAME }\SpecialCharTok{==} \StringTok{"Chicago River South Br"}\NormalTok{)}
\NormalTok{water3 }\OtherTok{\textless{}{-}} \FunctionTok{area\_water}\NormalTok{(}\StringTok{"IL"}\NormalTok{, }\StringTok{"Cook"}\NormalTok{, }\AttributeTok{class =} \StringTok{"sf"}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%} 
  \FunctionTok{filter}\NormalTok{(FULLNAME }\SpecialCharTok{==} \StringTok{"Chicago River North Br"}\NormalTok{)}

\DocumentationTok{\#\#group homicide victims into race groups}
\NormalTok{hom\_groups }\OtherTok{\textless{}{-}} \FunctionTok{fct\_lump\_n}\NormalTok{(chi\_hom}\SpecialCharTok{$}\NormalTok{victim\_race, }\AttributeTok{n =} \DecValTok{3}\NormalTok{) }

\FunctionTok{ggplot}\NormalTok{() }\SpecialCharTok{+} 
  \FunctionTok{geom\_sf}\NormalTok{(}\AttributeTok{data =}\NormalTok{ chi\_bound2, }\AttributeTok{color =} \StringTok{"black"}\NormalTok{, }\AttributeTok{fill =} \ConstantTok{NA}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_sf}\NormalTok{(}\AttributeTok{data =}\NormalTok{ road, }\AttributeTok{color =} \StringTok{"darkmagenta"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_sf}\NormalTok{(}\AttributeTok{data =}\NormalTok{ water, }\AttributeTok{color =} \StringTok{"darkblue"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_sf}\NormalTok{(}\AttributeTok{data =}\NormalTok{ water2, }\AttributeTok{color =} \StringTok{"darkblue"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_sf}\NormalTok{(}\AttributeTok{data =}\NormalTok{ water3, }\AttributeTok{color =} \StringTok{"darkblue"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_sf}\NormalTok{(}\AttributeTok{data =}\NormalTok{ chi\_hom, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{color =}\NormalTok{ hom\_groups), }\AttributeTok{alpha =}\NormalTok{ .}\DecValTok{3}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}\AttributeTok{color =} \StringTok{"Race of Victim"}\NormalTok{)}\SpecialCharTok{+}
  \FunctionTok{facet\_grid}\NormalTok{(}\SpecialCharTok{\textasciitilde{}}\NormalTok{disposition) }\SpecialCharTok{+}
  \FunctionTok{ggtitle}\NormalTok{(}\StringTok{"Solved and Unsolved Homicides in Chicago, Illinois"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{R_HW5_files/figure-latex/Figure-1.pdf}

Choice 2:

\end{document}
